<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Legal Document Assistant</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        height: 100vh;
        background-color: #ffffff;
        overflow: hidden;
      }

      /* Top Navigation Bar */
      .top-nav {
        height: 56px;
        background: white;
        border-bottom: 1px solid #e5e7eb;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1.5rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      .nav-left h1 {
        font-size: 1.125rem;
        font-weight: 600;
        color: #4a5568;
      }

      .nav-right {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .mode-toggle {
        display: flex;
        align-items: center;
        background: #f9fafb;
        border-radius: 0.5rem;
        padding: 0.25rem;
        border: 1px solid #e5e7eb;
      }

      .mode-btn {
        display: flex;
        align-items: center;
        padding: 0.5rem 0.75rem;
        border-radius: 0.375rem;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s;
        border: none;
        background: transparent;
        cursor: pointer;
        color: #6b7280;
      }

      .mode-btn:hover {
        color: #4a5568;
        background: #f3f4f6;
      }

      .mode-btn-active {
        background: #4a5568;
        color: white;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .mode-btn-active:hover {
        background: #4a5568;
        color: white;
      }

      /* Enhanced icon styling for better consistency */
      .mode-btn svg {
        width: 18px;
        height: 18px;
        margin-right: 0.5rem;
        stroke-width: 1.5;
      }

      .read-mode-toggle {
        display: none;
        align-items: center;
        background: #f9fafb;
        border-radius: 0.5rem;
        padding: 0.25rem;
        border: 1px solid #e5e7eb;
      }

      .read-mode-btn {
        display: flex;
        align-items: center;
        padding: 0.5rem 0.75rem;
        border-radius: 0.375rem;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s;
        border: none;
        background: transparent;
        cursor: pointer;
        color: #6b7280;
      }

      .read-mode-btn:hover {
        color: #4a5568;
        background: #f3f4f6;
      }

      .read-mode-btn-active {
        background: #4a5568;
        color: white;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .read-mode-btn-active:hover {
        background: #4a5568;
        color: white;
      }

      /* Enhanced icon styling for read mode buttons */
      .read-mode-btn svg {
        width: 18px;
        height: 18px;
        margin-right: 0.5rem;
        stroke-width: 1.5;
      }

      /* Main Content Area */
      .main-content {
        height: calc(100vh - 56px);
      }

      /* Chat Mode Layout */
      .chat-mode-container {
        display: flex;
        height: 100%;
        position: relative;
      }

      .chat-panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: white;
        border-right: 1px solid #e5e7eb;
      }

      /* Standardized header styling across all modes */
      .chat-header,
      .document-header,
      .read-header,
      .focus-header {
        height: 64px;
        min-height: 64px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1.5rem;
        background: #4a5568;
        color: white;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .chat-header-left,
      .document-header-left,
      .read-header-left,
      .focus-header-left {
        display: flex;
        align-items: center;
      }

      /* Enhanced header icon styling */
      .chat-header svg,
      .document-header svg,
      .read-header svg,
      .focus-header svg {
        width: 24px;
        height: 24px;
        margin-right: 12px;
        stroke-width: 1.5;
      }

      .chat-header h1 {
        font-size: 1.25rem;
        font-weight: 600;
      }

      .messages-container {
        flex: 1;
        padding: 1rem;
        overflow-y: auto;
        scroll-behavior: smooth;
        background: #ffffff;
      }

      .welcome-message {
        text-align: center;
        color: #6b7280;
        margin-top: 2rem;
      }

      .welcome-message svg {
        width: 48px;
        height: 48px;
        margin: 0 auto 1rem;
        color: #4a5568;
      }

      .welcome-message h2 {
        font-size: 1.125rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: #4a5568;
      }

      .message {
        display: flex;
        margin-bottom: 1rem;
      }

      .message.user {
        justify-content: flex-end;
      }

      .message.ai {
        justify-content: flex-start;
      }

      .message-bubble {
        max-width: 70%;
        padding: 0.75rem 1rem;
        border-radius: 1rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: all 0.2s;
      }

      .message.user .message-bubble {
        background: #4a5568;
        color: white;
        border-bottom-right-radius: 0.375rem;
      }

      .message.user .message-bubble:hover {
        background: #4a5568;
      }

      .message.ai .message-bubble {
        background: #f9fafb;
        color: #374151;
        border-bottom-left-radius: 0.375rem;
        border: 1px solid #e5e7eb;
      }

      .message.ai .message-bubble:hover {
        background: #f3f4f6;
        border-color: #4a5568;
      }

      .message-text {
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre-wrap;
      }

      .message-time {
        font-size: 0.75rem;
        margin-top: 0.5rem;
        opacity: 0.7;
      }

      .loading-message {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .spinner {
        width: 16px;
        height: 16px;
        border: 2px solid #e5e7eb;
        border-top: 2px solid #4a5568;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .input-area {
        padding: 1rem;
        border-top: 1px solid #e5e7eb;
        background: #f9fafb;
      }

      .input-container {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .message-input {
        flex: 1;
        padding: 0.75rem 1rem;
        border: 1px solid #4a5568;
        border-radius: 9999px;
        outline: none;
        transition: all 0.2s;
        background: white;
      }

      .message-input:focus {
        border-color: #4a5568;
        box-shadow: 0 0 0 3px rgba(31, 41, 55, 0.1);
      }

      .send-button {
        padding: 0.75rem;
        background: #4a5568;
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .send-button:hover:not(:disabled) {
        background: #4a5568;
      }

      .send-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .send-button svg {
        width: 20px;
        height: 20px;
      }

      /* Document Panel */
      .document-panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: white;
      }

      .document-title {
        font-size: 1.25rem;
        font-weight: 600;
      }

      /* Enhanced refresh button styling */
      .refresh-button {
        padding: 0.75rem;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
      }

      .refresh-button:hover:not(:disabled) {
        background: #4a5568;
        border-color: #4a5568;
        transform: translateY(-1px);
      }

      .refresh-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .refresh-button svg {
        width: 20px;
        height: 20px;
        stroke-width: 1.5;
      }

      .document-content {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
        scroll-behavior: smooth;
        background: #ffffff;
      }

      .loading-document {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 16rem;
        text-align: center;
      }

      .loading-document .spinner {
        width: 32px;
        height: 32px;
        margin-bottom: 1rem;
      }

      .clause {
        position: relative;
        padding: 1rem;
        margin-bottom: 1.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
        line-height: 1.6;
        background: white;
      }

      .clause:hover {
        border-color: #4a5568;
        background: #f9fafb;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .clause-tooltip {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background: #4a5568;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        opacity: 0;
        transition: opacity 0.2s;
      }

      .clause:hover .clause-tooltip {
        opacity: 1;
      }

      .clause-content {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
      }

      .clause-number {
        flex-shrink: 0;
        width: 32px;
        height: 32px;
        background: #f9fafb;
        color: #4a5568;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.875rem;
        font-weight: 500;
        border: 1px solid #e5e7eb;
      }

      .clause-text {
        color: #374151;
        line-height: 1.6;
      }

      .tip-box {
        margin-top: 2rem;
        padding: 1rem;
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
      }

      .tip-box p {
        font-size: 0.875rem;
        color: #4a5568;
      }

      /* Read Mode Layout */
      .read-mode-container {
        display: none;
        height: 100%;
        flex-direction: column;
      }

      .read-content {
        flex: 1;
        overflow-y: auto;
        scroll-behavior: smooth;
      }

      /* Normal Read Mode */
      .normal-read-content {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .read-document-content {
        flex: 1;
        padding: 2rem;
        overflow-y: auto;
        background: #ffffff;
      }

      .read-document-wrapper {
        max-width: 78ch;
        margin: 0 auto;
      }

      .clause-read {
        position: relative;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        transition: all 0.2s;
        line-height: 1.8;
        background: white;
      }

      .clause-read:hover {
        border-color: #4a5568;
        background: #f9fafb;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .clause-read-tooltip {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background: #4a5568;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        opacity: 0;
        transition: opacity 0.2s;
      }

      .clause-read:hover .clause-read-tooltip {
        opacity: 1;
      }

      .clause-read-content {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
      }

      .clause-read-number {
        flex-shrink: 0;
        width: 40px;
        height: 40px;
        background: #f9fafb;
        color: #4a5568;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        font-weight: bold;
        border: 1px solid #e5e7eb;
      }

      .clause-read-text {
        color: #4a5568;
        line-height: 1.8;
        font-size: 1.125rem;
        user-select: text;
      }

      .read-tip-box {
        margin-top: 2rem;
        padding: 1.5rem;
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
      }

      .read-tip-box p {
        font-size: 0.875rem;
        color: #4a5568;
      }

      /* Focus Read Mode */
      .focus-read-content {
        display: none;
        flex-direction: column;
        height: 100%;
      }

      .focus-clause-counter {
        margin-left: 1rem;
        color: #d1d5db;
        font-size: 0.875rem;
        font-weight: 500;
      }

      /* Enhanced focus navigation controls styling */
      .focus-nav {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .focus-nav-btn {
        padding: 0.75rem;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .focus-nav-btn:hover:not(:disabled) {
        background: #4a5568;
        border-color: #4a5568;
        transform: translateY(-1px);
      }

      .focus-nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .focus-nav-btn svg {
        width: 20px;
        height: 20px;
        stroke-width: 1.5;
      }

      /* Enhanced focus clause container styling */
      .focus-clause-container {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 3rem 2rem;
        background: #f9fafb;
      }

      .focus-clause {
        max-width: 4xl;
        width: 100%;
      }

      /* Enhanced focus clause content styling */
      .focus-clause-content {
        display: flex;
        align-items: flex-start;
        gap: 1.5rem;
        padding: 2.5rem;
        border: 2px solid #e5e7eb;
        border-radius: 1rem;
        background: white;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        transition: all 0.3s ease;
      }

      .focus-clause-content:hover {
        border-color: #4a5568;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        transform: translateY(-2px);
      }

      .focus-clause-number {
        flex-shrink: 0;
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
        color: #4a5568;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        font-weight: bold;
        border: 2px solid #e5e7eb;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .focus-clause-text {
        color: #4a5568;
        line-height: 1.8;
        font-size: 1.25rem;
        user-select: text;
      }

      /* Enhanced focus instructions styling */
      .focus-instructions {
        margin-top: 2rem;
        text-align: center;
      }

      .focus-instructions p {
        font-size: 0.875rem;
        color: #6b7280;
        margin-bottom: 1rem;
        font-weight: 500;
      }

      .focus-shortcuts {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
      }

      .focus-shortcuts kbd {
        padding: 0.5rem 0.75rem;
        background: white;
        border: 2px solid #e5e7eb;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 600;
        color: #4a5568;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .focus-shortcuts span {
        font-size: 0.875rem;
        color: #6b7280;
        font-weight: 500;
      }

      .read-document-wrapper h2 {
        font-size: 1.45rem;
        margin-top: 2rem;
        margin-bottom: 0.75rem;
        color: #4a5568;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.4rem;
      }

      .read-document-wrapper h3 {
        font-size: 1.25rem;
        margin-top: 1.5rem;
        margin-bottom: 0.6rem;
        color: #4a5568;
      }

      .read-document-wrapper p {
        margin-bottom: 1.4rem;
        text-align: left;
        font-size: 1.125rem;
        line-height: 1.95;
        word-spacing: 0.1em;
        color: #374151;
      }

      .resize-handle {
        width: 12px;
        background: #e5e7eb;
        cursor: col-resize;
        transition: background-color 0.2s;
        position: relative;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0; /* Prevent resize handle from shrinking */
      }

      .resize-handle:hover {
        background: #4a5568;
      }

      .resize-handle::after {
        content: "";
        display: block;
        width: 2px;
        height: 24px;
        background: #cbd5e1;
        border-radius: 1px;
      }

      .resize-handle:hover::after {
        background: #ffffff;
      }

      .resize-handle:active {
        background: #4a5568;
      }

      /* Adjust panel heights to account for fixed header heights */
      .chat-panel,
      .document-panel {
        display: flex;
        flex-direction: column;
        height: 100%;
        min-width: 200px; /* Prevent panels from becoming too narrow */
      }

      .messages-container,
      .document-content,
      .read-document-content,
      .focus-clause-container {
        flex: 1;
        overflow: auto;
        min-height: 0; /* Allow flex items to shrink below content size */
      }

      .section-content {
    padding: 1rem;
    transition: all 0.2s ease;
    border-radius: 0.25rem;
}

.section-content:hover {
    border-color: #4a5568;
    color: white;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

      /* Responsive */
      @media (max-width: 768px) {
        .chat-mode-container {
          flex-direction: column;
        }

        .message-bubble {
          max-width: 85%;
        }

        .nav-right {
          flex-direction: column;
          gap: 0.5rem;
        }

        .resize-handle {
          width: 100%;
          height: 12px;
          cursor: row-resize;
        }

        .resize-handle::after {
          width: 24px;
          height: 2px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Top Navigation Bar -->
    <div class="top-nav">
      <div class="nav-left">
        <h1>Lawlens</h1>
      </div>

      <div class="nav-right">
        <!-- View Mode Toggle -->
        <div class="mode-toggle">
          <button id="chatModeBtn" class="mode-btn mode-btn-active">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
              />
            </svg>
            Chat Mode
          </button>
          <button id="readModeBtn" class="mode-btn">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
              />
            </svg>
            Read Mode
          </button>
        </div>

        <!-- Read Mode Options -->
        <div id="readModeToggle" class="read-mode-toggle">
          <button id="normalReadBtn" class="read-mode-btn read-mode-btn-active">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
              />
            </svg>
            Normal
          </button>
          <button id="focusReadBtn" class="read-mode-btn">
            <svg fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
              />
            </svg>
            Focus
          </button>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Chat Mode Layout -->
      <div id="chatModeContainer" class="chat-mode-container">
        <!-- Chat Panel -->
        <div class="chat-panel">
          <!-- Chat Header -->
          <div class="chat-header">
            <div class="chat-header-left">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
                />
              </svg>
              <h1>Legal Assistant Chat</h1>
            </div>
          </div>

          <!-- Messages Container -->
          <div class="messages-container" id="messagesContainer">
            <div class="welcome-message" id="welcomeMessage">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
                />
              </svg>
              <h2>Welcome to Legal Assistant</h2>
              <p>
                Click on any clause in the document or ask a question to get
                started.
              </p>
            </div>
          </div>

          <!-- Input Area -->
          <div class="input-area">
            <div class="input-container">
              <input
                type="text"
                class="message-input"
                id="messageInput"
                placeholder="Ask about the legal document..."
                autocomplete="off"
              />
              <button class="send-button" id="sendButton">
                <svg fill="currentColor" viewBox="0 0 24 24">
                  <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Resize Handle -->
        <div class="resize-handle" id="resizeHandle"></div>

        <!-- Document Panel -->
        <div class="document-panel">
          <!-- Document Header -->
          <div class="document-header">
            <div class="document-header-left">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                />
              </svg>
              <h2 class="document-title" id="documentTitle">
                Loading Document...
              </h2>
            </div>
            <button
              class="refresh-button"
              id="refreshButton"
              title="Refresh document"
            >
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                />
              </svg>
            </button>
          </div>

          <!-- Document Content -->
          <div class="document-content" id="documentContent">
            <div class="loading-document">
              <div>
                <div class="spinner"></div>
                <p>Loading document from API...</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Read Mode Layout -->
      <div id="readModeContainer" class="read-mode-container">
        <!-- Normal Read Mode -->
        <div id="normalReadContent" class="normal-read-content">
          <!-- Document Header -->
          <div class="read-header">
            <div class="read-header-left">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
                />
              </svg>
              <h2 class="document-title" id="readDocumentTitle">
                Loading Document...
              </h2>
            </div>
            <button
              class="refresh-button"
              id="readRefreshButton"
              title="Refresh document"
            >
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                />
              </svg>
            </button>
          </div>

          <!-- Document Content -->
          <div class="read-document-content" id="readDocumentContent">
            <div class="loading-document">
              <div>
                <div class="spinner"></div>
                <p>Loading document from API...</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Focus Read Mode -->
        <div id="focusReadContent" class="focus-read-content">
          <!-- Focus Mode Header -->
          <div class="focus-header">
            <div class="focus-header-left">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                />
              </svg>
              <h2 class="document-title" id="focusDocumentTitle">Focus Mode</h2>
              <span class="focus-clause-counter" id="focusClauseCounter"
                >Clause 1 of 1</span
              >
            </div>

            <!-- Navigation Controls -->
            <div class="focus-nav">
              <button
                id="prevClauseBtn"
                class="focus-nav-btn"
                title="Previous clause"
              >
                <svg fill="currentColor" viewBox="0 0 24 24">
                  <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
              </button>
              <button
                id="nextClauseBtn"
                class="focus-nav-btn"
                title="Next clause"
              >
                <svg fill="currentColor" viewBox="0 0 24 24">
                  <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                </svg>
              </button>
              <button
                id="focusRefreshButton"
                class="focus-nav-btn"
                title="Refresh document"
              >
                <svg fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                  />
                </svg>
              </button>
            </div>
          </div>

          <!-- Focus Mode Content -->
          <div class="focus-clause-container">
            <div class="focus-clause">
              <div id="focusClauseContent">
                <div class="loading-document">
                  <div>
                    <div class="spinner"></div>
                    <p>Loading document from API...</p>
                  </div>
                </div>
              </div>

              <!-- Focus Mode Instructions -->
              <div class="focus-instructions">
                <p>
                  Select text to get AI explanation • Use arrow buttons to
                  navigate
                </p>
                <div class="focus-shortcuts">
                  <kbd>←</kbd>
                  <span>Previous</span>
                  <kbd>→</kbd>
                  <span>Next</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="viewer.js"></script>
  </body>
</html>
